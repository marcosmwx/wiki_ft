---
sidebar_position: 5
---
# Instala√ß√£o e configura√ß√£o do SSH üì∂

## üß† O que √© SSH‚ùì 

√â o nome de um protocolo e do programa que o implementa, cuja fun√ß√£o principal √© o acesso remoto a um servidor atrav√©s de um canal seguro no qual toda a informa√ß√£o √© encriptada.

1. A primeira coisa que faremos √© `sudo apt update` para atualizar os reposit√≥rios por n√≥s definidos no ficheiro /etc/apt/sources.list

![vm](./img/sudoup.png)

2. A seguir instalaremos a principal ferramenta de conectividade para o login remoto com o protocolo SSH, esta ferramenta √© OpenSSH. Para a instalar, introduza o comando `sudo apt install openssh-server`. Na mensagem de confirma√ß√£o coloque Y, depois aguarde que a instala√ß√£o termine.
3. Para verificar se foi instalado correctamente, faremos o `sudo service ssh status` e este deve mostrar-se ativo.

![vm](./img/sshcheck.png)

4. Uma vez terminada a instala√ß√£o, foram criados alguns ficheiros que temos de configurar. Para tal, utilizaremos `Nano` ou se preferir outro editor de texto. O primeiro ficheiro a editar √© `/etc/ssh/sshd_config`. Se n√£o estiver no utilizador root n√£o ter√° permiss√µes de escrita, para isso faremos `su` e colocaremos a palavra-passe para introduzir o utilizador root ou se n√£o quiser introduzir o utilizador root colocar sudo no in√≠cio do comando sudo nano `/etc/ssh/sshd_config`.

5. O # no in√≠cio de uma linha significa que √© comentado, as linhas que vamos modificar devem remover o coment√°rio. Uma vez editado o ficheiro, devemos modificar as seguintes linhas:
- Port 22 -> Port 4242
- PermitRootLogin prohibit-password -> PermitRootLogin no
![vm](./img/port4242.png)

6. Agora no ficheiro ficheiro `/etc/ssh/ssh_config`. 
- Port 22 -> Port 4242
![vm](./img/ssh-conf2.png)

7. Finalmente, temos de reiniciar o servi√ßo ssh para actualizar as modifica√ß√µes que acab√°mos de fazer. Para o fazer, devemos digitar o comando `sudo service ssh restart` e, uma vez reiniciado, vamos olhar para o estado actual com sudo service ssh status e para confirmar que as altera√ß√µes foram feitas no ouvinte do servidor, a porta 4242 deve aparecer.

![vm](./img/sshrestart.png)